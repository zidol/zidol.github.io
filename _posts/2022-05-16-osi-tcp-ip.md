---
title:  "OSI 7 Layer 및 TCP/IP Protocol Suite"
excerpt: "OSI 7 Layer..."

categories:
  - CS
tags:
  - [CS, OSI, TCP/IP]

toc: true
toc_sticky: true
 
date: 2022-05-16
last_modified_at: 2022-05-16
---

![Untitled](https://zidols.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fdbb5cfcd-979d-4ce7-baee-ee6436aa6a30%2FUntitled.png?table=block&id=c5d26dbd-1e4f-4c0d-86d8-d3bca808baf1&spaceId=370dbc5e-872d-4d9e-9f3a-f7113cda9427&width=880&userId=&cache=v2)

# OSI 7 Layer

## Physical Layer

이 계층에서는 주로 전기적, 기계적, 기능적인 특성을 이용해서 통신 케이블로 데이터를 전송하게 된다.

이 계층에서 사용되는 통신 단위는 비트이며 이것은 1과 0으로 나타내어지는, 즉 전기적으로 On, Off 상태라고 생각하면 된다.

이 계층에서는 단지 데이터를 전달만 할뿐 전송하려는(또는 받으려는)**데이터가 무엇인지, 어떤 에러가 있는지 등에는 전혀 신경 쓰지 않는다.**

단지 데이터 전기적인 신호로 변환해서 주고받는 기능만 할 뿐이다. 이 계층에 속하는 대표적인 장비는 **통신 케이블, 리피터, 허브**등이 있다.

- 0과 1의 나열된 아날로그 신호로 바꾸어 전선으로 흘려보내고,(encoding)
- 아날로그 신호가 들어오면 0과 1의 나열로 해석하여(decoding)
- 물리적으로 연결된 두 대의 컴퓨터가 0과 1의 나열을 주고 받을 수 있게 해주는 모듈( module)

![https://t1.daumcdn.net/cfile/tistory/990DA13D5B73B8C615](https://t1.daumcdn.net/cfile/tistory/990DA13D5B73B8C615)

![https://t1.daumcdn.net/cfile/tistory/9927F73D5B73B8C735](https://t1.daumcdn.net/cfile/tistory/9927F73D5B73B8C735)

## Data-link Layer

물리계층을 통해 송수신되는 정보의 오류와 흐름을 관리하여 안전한 **정보의 전달을 수행**할 수 있도록 도와주는 역할을 한다. 따라서 통신에서의 오류도 찾아주고 재전송도 하는 기능을 가지고 있는 것이다.

이 계층에서는 **맥 주소를 가지고 통신**하게 된다. 이 계층에서 전송되는 단위를 프레임이라고 하고, 대표적인 장비로는 **브리지, 스위치** 등이 있다

데이터 링크 계층(Data link layer)은 포인트 투 포인트(Point to Point) 간 신뢰성있는 전송을 보장하기 위한 계층으로 CRC 기반의 오류 제어와 흐름 제어가 필요하다. 네트워크 위의 개체들 간 데이터를 전달하고, 물리 계층에서 발생할 수 있는 오류를 찾아 내고, 수정하는 데 필요한 기능적, 절차적 수단을 제공한다.

- 같은 네트워크에 있는 여러 대의 컴퓨터들이 데이터를 주고 받기 위해서 필요한 모듈
- Framing은 Data-link Later에 속하는 작업들 중하나
- 브릿지, 스위치

![https://t1.daumcdn.net/cfile/tistory/9931734D5B73BA3D2F](https://t1.daumcdn.net/cfile/tistory/9931734D5B73BA3D2F)

## Network Layer

수많은 네트워크들의 연결로 이루어지는 inter-network 속에서 어딘가에 있는 목적지 컴퓨터로 데이터를 전송하기 위해, IP 주소를 이용해서 길을찾고(routing) 자신 다음의 라우터에게 데이터를 넘겨 주는것(forwarding)

즉, **데이터를 목적지까지 가장 안전하고 빠르게 전달하는 기능(라우팅)**

이 계층은 경로를 선택하고 주소를 정하고 경로에 따라 패킷을 전달해주는 것이 이 계층의 역할이다. 이 계층의 대표적인 장비는 라우터 이며, 요즘은 2계층의 장비 중 스위치라는 장비에 라우팅 기능을 장착한 Layer 3 스위치도 있다. (여기서 IP주소를 사용한다.)

네트워크 계층(Network layer)은 여러개의 노드를 거칠때마다 경로를 찾아주는 역할을 하는 계층으로 다양한 길이의 데이터를 네트워크들을 통해 전달하고, 그 과정에서 전송 계층이 요구하는 서비스 품질(QoS)을 제공하기 위한 기능적, 절차적 수단을 제공한다.

![Untitled](https://zidols.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fc35578ee-ad74-4893-97a4-bab707b085fc%2FUntitled.png?table=block&id=94cdfd3d-cf7c-4550-a151-d69c86071d22&spaceId=370dbc5e-872d-4d9e-9f3a-f7113cda9427&width=770&userId=&cache=v2)

이미지 출처: [http://www.deadfire.net/tcpip/tcpip08.html](http://www.deadfire.net/tcpip/tcpip08.html)

- 운영체제의 커널에 소프트웨어적으로 구현

## Transport Layer

> port 번호를 사용하여 도착지 컴퓨터의 최종 도착지인 **프로세스**까지 데이터가 도달 하게 하는 모둘
> 

통신을 활성화하기 위한 계층이다. 보통 TCP프로토콜을 이용하며, 포트를 열어서 응용프로그램들이 전송을 할 수 있게 한다. 만약 데이터가 왔다면 4계층에서 해당 데이터를 하나로 합쳐서 5계층에 던져 준다.

단대단 오류제어 및 흐름제어 이 계층 까지는 물리적인 계층에 속한다.(TCP/UDP프로토콜을 사용한다.)

전송 계층(Transport layer)은 양 끝단(End to end)의 사용자들이 신뢰성있는 데이터를 주고 받을 수 있도록 해 주어, 상위 계층들이 데이터 전달의 유효성이나 효율성을 생각하지 않도록 해준다.

- 시퀀스 넘버 기반의 오류 제어 방식을 사용한다.
- 전송 계층은 특정 연결의 유효성을 제어하고, 일부 프로토콜은 상태 개념이 있고(stateful), **연결 기반(connection oriented)**이다.
- 이는 **전송 계층이 패킷들의 전송이 유효한지 확인하고 전송 실패한 패킷들을 다시 전송한다는 것**을 뜻한다.
- 가장 잘 알려진 전송 계층의 예는 TCP이다.
- 종단간(end-to-end) 통신을 다루는 최하위 계층으로 종단간 신뢰성 있고 효율적인 데이터를 전송하며, 기능은 오류검출 및 복구와 흐름제어, 중복검사 등을 수행한다.
- 운영체제의 커널에 소프트웨어적으로 구현

→ **패킷 생성(Assembly/Sequencing/Deassembly/Error detection/Request repeat/Flow control) 및 전송**

## **Session Layer**

**데이터가 통신하기 위한 논리적인 연결**을 말한다. 통신을 하기위한 대문이라고 보면 된다. 하지만 4계층에서도 연결을 맺고 종료할 수 있기 때문에 우리가 어느 계층에서 통신이 끊어 졌나 판단하기는 한계가 있다. 그러므로 세션 계층은 4 계층과 무관하게 응용 프로그램 관점에서 봐야 한다.

- 세션 설정, 유지, 종료, 전송 중단시 복구 등의 기능이 있다.
- 세션 계층(Session layer)은 양 끝단의 응용 프로세스가 통신을 관리하기 위한 방법을 제공한다.
- **동시 송수신 방식(duplex), 반이중 방식(half-duplex), 전이중 방식(Full Duplex)**의 통신과 함께, 체크 포인팅과 유휴, 종료, 다시 시작 과정 등을 수행한다.
- 이 계층은 **TCP/IP 세션을 만들고 없애는 책임**을 진다.

> 통신하는 사용자들을 동기화하고 오류복구 명령들을 일괄적으로 다룬다.
통신을 하기 위한 세션을 확립/유지/중단 (운영체제가 해줌)
> 

## **Presentation Layer(표현계층)**

데이터 표현이 상이한 응용 프로세스의 독립성을 제공하고, 암호화 한다. 표현 계층(Presentation layer)은 코드 간의 번역을 담당하여 사용자 시스템에서 데이터의 형식상 차이를 다루는 부담을 응용 계층으로부터 덜어 준다. MIME 인코딩이나 암호화 등의 동작이 이 계층에서 이루어진다.

예를 들면, EBCDIC로 인코딩된 문서 파일을 ASCII로 인코딩된 파일로 바꿔 주는 것,

해당 데이터가 TEXT인지, 그림인지, GIF인지 JPG인지의 구분 등이 표현 계층의 몫이다.

→ 사용자의 명령어를 완성및 결과 표현. 포장/압축/암호화

## Application Layer(응용계층)

최종 목적지로서 HTTP, FTP, SMTP, POP3, IMAP, Telnet 등과 같은 프로토콜이 있다.

해당 통신 패킷들은 방금 나열한 프로토콜에 의해 모두 처리되며 우리가 사용하는 브라우저나, 메일 프로그램은 프로토콜을 보다 쉽게 사용하게 해주는 응용프로그램이다. 한마디로 모든 통신의 양 끝단은 HTTP와 같은 프로토콜이지 응용프로그램이 아니다.

- 응용 계층(Application layer)은 응용 프로세스와 직접 관계하여 일반적인 **응용 서비스를 수행**한다.
- 일반적인 응용 서비스는 관련된 응용 프로세스들 사이의 전환을 제공한다.

- 응용 서비스의 예로, 가상 터미널(예를 들어, **텔넷**), "Job transfer and Manipulation protocol" (JTM, 표준 ISO/IEC 8832) 등이 있다.

→ 네트워크 소프트웨어 UI 부분, 사용자의 입출력(I/O)부분

---

# TCP/IP Protocol

## Network Access Layer

1.  OSI 7 Layer에서 물리계층과 데이터링크 계층에 해당한다.
2. OS의 네트워크 카드와 디바이스 드라이버 등과 같이 하드웨어적인 요소와 관련되 는 모든 것을 지원하는 계층
3.  송신측 컴퓨터의 경우 상위 계층으로부터 전달받은 패킷에 물리적인 주소은 MAC 주소 정보를 가지고 있는 헤더를 추가하여 프레임을 만들고, 프레임을 하위계층인 물 리 계층으로 전달한다.
4. 수신측 컴퓨터의 경우 데이터 링크 계층에서 추가된 헤더를 제거하여 상위 계층인 네트워크 계층으로 전달한다.

## Internet Layer

1. OSI 7 Layer의 네트워크 계층에 해당한다.
2.  인터넷 계층의 주요 기능은 상위 트랜스포트 계층으로부터 받은 데이터에 IP패킷 헤더를 붙여 IP패킷을 만들고 이를 전송하는 것이다.

## Transport Layer

1. OSI 7 Layer에서 전송계층에 해당한다.
2. 네트워크 양단의 송수신 호스트 사이에서 신뢰성 있는 전송기능을 제공한다.
3. 시스템의 논리주소와 포트를 가지고 있어서 각 상위 계층의 프로세스를 연결해서 통신한다.
4. 정확한 패킷의 전송을 보장하는 TCP와 정확한 전송을 보장하지 않는 UDP 프로토 콜을 이용한다.
5. 데이터의 정확한 전송보다 빠른 속도의 전송이 필요한 멀티미디어 통신에서 UDP 를 사용하면 TCP보다 유용하다.

## Application Layer

1.  OSI 7 Layer에서 세션계층 , 프레젠테이션계층, 애플리케이션 계층에 해당한다.
2. 응용프로그램들이 네트워크서비스, 메일서비스, 웹서비스 등을 할 수 있도록 표준적 인 인터페이스를 제공한다.
- 운영체제의 Transport layer에서 제공하는 API를 활용해서 통신 가능한 프로그램을 만드는것
- 네트워크 프로그래밍이라고도 함

---

# **Summary**

### OSI 7 Layer

**7 계층(응용 계층)** : 사용자와 직접 상호작용하는 응용 프로그램들이 포함된 계층

**6 계층(표현 계층)** : 데이터의 형식(Format)을 정의하는 계층

**5 계층(세션 계층)** : 컴퓨터끼리 통신을 하기 위해 세션을 만드는 계층

**4 계층(전송 계층)** : **최종 수신 프로세스로** 데이터의 전송을 담당하는 계층

**3 계층(네트워크 계층)** : 패킷을 목적지까지 **가장 빠른 길로 전송**하기 위한 계층

**2 계층(데이터링크 계층)** : 데이터의 **물리적인 전송**과 **에러 검출, 흐름 제어**를 담당하는 계층

**1 계층(물리 계층)** : 데이터를 전기 신호로 바꾸어주는 계층

**1. 물리계층**

- Bit 단위
- 데이터를 **전기 신호로 변환**
- 장비 : 리피터, 허브

**2. 데이터 링크 계층**

- Frame 단위
- 데이터의 **물리적인 전송과 에러 검출, 흐름제어**를 담당
- 장비 : 브릿지, 스위치

**3. 네트워크 계층**

- Packet 단위
- 패킷을 목적지까지 **가장 빠른 길로 전송**
- 장비 : 라우터

**4. 전송 계층**

- Segment 단위
- **최종 목적지로 데이터 전송**
- TCP, UDP프로토콜을 통해 통신 활성화
- 장비 : 게이트웨이

**5. 세션 계층**

- 데이터가 통신하기 위한 논리적인 연결 담당
- TCP/IP 세션을 만들고 없애는 책임

**6. 표현 계층**

- 데이터의 형식 정의하고 암호화

**7. 응용 계층**

- 사용자에게 **서비스 제공**
- 응용프로그램 (HTTP, FTP, Telnet, DNS)

### **TCP/IP 프로토콜**

**1계층 : 네트워크 액세스 계층(Network Access Layer or Network Interface Layer)**

- OSI 7계층의 물리계층 + 데이터 링크 계층
- **물리적인 주소로 MAC을 사용**
- LAN, 패킷망, 등에 사용

**2계층 :  인터넷 계층(Internet Layer)**

- OSI 7계층의 네트워크 계층
- 통신 노드 간의 IP패킷을 전송
- **라우팅** 담당
- 프로토콜 : IP, ARP, RARP

**3계층 전송 계층(Transport Layer)**

- OSI 7계층의 전송 계층
- 통신 노드 간의 연결을 제어
- **신뢰성 있는 통신**을 보장
- 프로토콜 : TCP, UDP

**4계층 응용 계층(Application Layer)**

- OSI 7계층의 세션 계층 + 표현 계층 + 응용 계층
- TCP/UDP 기반의 **응용 프로그램** 구현
- 프로토콜 : FTP, HTTP, SSH

**출처**  
[https://shlee0882.tistory.com/110](https://shlee0882.tistory.com/110)  
[https://goitgo.tistory.com/25](https://goitgo.tistory.com/25)  
[https://lu-coding.tistory.com/29](https://lu-coding.tistory.com/29)  